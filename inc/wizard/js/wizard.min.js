!function(e){function a(a,t){e(".theme-wizard-main").before('<div class="theme-wizard-notice notice notice-'+t+'">'+a+"</div>")}function t(a=""){0==e('[data-tab="'+a+'"] .wizard-right-sign').length&&e('[data-tab="'+a+'"]').append('<span class="wizard-right-sign dashicons dashicons-yes-alt"></span>')}function s(){e(".theme-wizard-notice").slideUp(300,function(){e(this).remove()})}e('[data-tab="theme-installation"]').addClass("nav-tab-active"),e("#theme-installation").addClass("active"),""==tmpcoderMessages.wizard_step?(e('[data-tab="theme-installation"]').addClass("nav-tab-active"),e("#theme-installation").addClass("active")):"1"==tmpcoderMessages.wizard_step?(t("theme-installation"),e('[data-tab="theme-installation"]').addClass("disabled"),setTimeout(()=>{console.log("install-plugins"),console.log(e('[data-tab="install-plugins"]').length),console.log(e('[data-tab="theme-installation"]').length),e('[data-tab="install-plugins"]').removeClass("disabled"),e('[data-tab="install-plugins"]').trigger("click")},100)):"2"==tmpcoderMessages.wizard_step?(t("theme-installation"),e('[data-tab="theme-installation"]').addClass("disabled"),t("install-plugins"),e('[data-tab="install-plugins"]').addClass("disabled"),setTimeout(()=>{e('[data-tab="license-registration"]').removeClass("disabled"),e('[data-tab="license-registration"]').trigger("click")},100)):setTimeout(()=>{e('[data-tab="install-plugins"]').trigger("click")},100),e(document).on("ajaxComplete",function(e,t,i){"POST"==i.type&&200==t.status&&i.data&&i.data.includes("templatescoder_register")&&t.responseJSON&&"verify"==t.responseJSON.data.type&&(a(tmpcoderMessages.registered_success,"success"),setTimeout(s,5e3))}),e(document).on("submit",".theme-installation-frm",function(i){i.preventDefault(),e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.site_setting_saving),e.ajax({url:ajaxurl,type:"POST",data:e(this).serialize(),beforeSend:function(){},success:function(i){i.includes("00000")&&(i=JSON.parse(i.split("00000")[1])),e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),i.success?(a(i.data.message,"success"),setTimeout(s,5e3),t("theme-installation"),e('[data-tab="theme-installation"]').addClass("disabled"),e('[data-tab="install-plugins"]').removeClass("disabled"),e('[data-tab="install-plugins"]').trigger("click")):i?.data?.message!=""&&(a(i.data.message,"error"),setTimeout(s,5e3))},error:function(t){e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),a(tmpcoderMessages.network_error,"error"),setTimeout(s,5e3)}})}),e(document).on("submit",".install-plugins-form",function(i){i.preventDefault(),e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.required_plugin_installing),e.ajax({url:ajaxurl,type:"POST",data:e(this).serialize(),beforeSend:function(){},success:function(i){i.includes("00000")&&(i=JSON.parse(i.split("00000")[1])),e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),i.success?(a(i.data.message,"success"),setTimeout(s,5e3),t("install-plugins"),e('[data-tab="install-plugins"]').addClass("disabled"),e('[data-tab="license-registration"]').removeClass("disabled"),e('[data-tab="license-registration"]').trigger("click")):i?.data?.message!=""&&(a(i.data.message,"error"),setTimeout(s,5e3))},error:function(t){e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),a(tmpcoderMessages.network_error,"error"),setTimeout(s,5e3)}})});var i=0;e(document).on("click",".theme-wizard-nav .nav-tab",function(){if(e(this).hasClass("disabled"))return;let a=e(this).closest(".theme-wizard-nav"),t=e(this).attr("data-tab");if(a.find(".nav-tab").removeClass("nav-tab-active"),e(".tab-content").removeClass("active"),e(this).addClass("nav-tab-active"),e("#"+t).addClass("active"),"install-plugins"==t){var s;e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.getting_required_plugins),s=e("#templatescoder-core-import-demos-js-extra").length,1==e("#select-demo #templatescoder-core-import-demos-js-extra").length&&(s=0),e.ajax({url:ajaxurl,type:"POST",data:"action=tmpcoder_get_required_plugins_func&js_exist="+s,beforeSend:function(){},success:function(a){if(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),a.success&&a?.data?.plugins){var t='<div class="feature-section recommended-plugins three-col demo-import-boxed">';a.data.plugins.length>0&&a.data.plugins.forEach(e=>{t+='<div class="col plugin_box"><div class="theme-grid-box">',t+='<a target="_blank" title="'+e.name+'" href="'+e.link+'"><img src="'+e.image+'" alt="plugin box image" class="demo-preview plugin-preview" loading="lazy"></a>',t+='<div class="action_bar "><span class="plugin_name">'+e.name+"</span>",t+='<span class="plugin-card-plugin action_button active">',e.activated?t+="<label>"+tmpcoderMessages.installed_and_activated+"</label>":e.installed?t+='<input type="checkbox" class="plugin-checkbox" name="plugins['+e.slug+']" value="1" checked readonly /><label>'+tmpcoderMessages.installed_and_activate+"</label>":t+='<input type="checkbox" class="plugin-checkbox" name="plugins['+e.slug+']" value="1" checked readonly /><label>'+tmpcoderMessages.install_and_activate+"</label>",t+="</span>",t+="</div>",t+="</div></div>"}),t+="</div>",t+=tmpcoderMessages.form_nonce,t+='<div class="next-step-action"><input type="hidden" name="action" value="tmpcoder_install_required_plugins_func" />',a.data.next_step?t+='<button type="submit" class="button button-primary next-step-btn">'+a.data.next_step+"</button>":t+='<button type="submit" class="button button-primary next-step-btn">'+tmpcoderMessages.next_step_btn+"</button>",t+="</div>",t='<h2 class="wizard-heading">'+tmpcoderMessages.install_required_plugins+'</h2><p class="wizard-title-text">'+tmpcoderMessages.install_required_plugins_text+'</p><form class="install-plugins-form" method="POST">'+t+"</form>",e("#install-plugins .tmpcoder-message-box").html(t)}},error:function(a){e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text("")}})}"license-registration"==t&&function a(){e(".process-loader").removeClass("hide"),e(".process-loader .loader-text").text(tmpcoderMessages.loading_license_form);var t=e("#templatescoder-core-import-demos-js-extra").length;1==e("#select-demo #templatescoder-core-import-demos-js-extra").length&&(t=0),e.ajax({url:ajaxurl,type:"POST",data:"action=tmpcoder_wizard_pro_addons_info&js_exist="+t,beforeSend:function(){},success:function(t){t.success?(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),e("#license-registration .tmpcoder-message-box").html(t.data.data)):0==i?(i=1,a()):(e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text(""),e("#license-registration .tmpcoder-message-box").html(tmpcoderMessages.license_error))},error:function(a){console.log("err",a),e(".process-loader").addClass("hide"),e(".process-loader .loader-text").text("")}})}()}),jQuery(document).on("click",".tmpcoder-skip-wizard-link",function(){if(console.log("skip-theme-wizard"),confirm("Head’s up. This action is non reversible and you won’t be able to see this wizard again. Proceed?")){var a=e(this).data("url");window.location.href=a}})}(jQuery);