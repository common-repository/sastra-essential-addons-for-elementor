!function(t){"use strict";var e={sectionIndex:null,contentID:0,logoURL:TmpcoderLibFrontJs.logo_url,init:function(){window.elementor.on("preview:loaded",e.previewLoaded)},lazyloder:function(t){t.find(".tmpcoder-lazyload-image").each(function(t){jQuery(this).attr("src",jQuery(this).attr("data-src"))})},previewLoaded:function(){var i=window.elementor.$previewContents,p=(i.find(".elementor-add-new-section"),'<div id="tmpcoder-library-btn" class="elementor-add-section-area-button" style="background:url('+e.logoURL+') no-repeat center center / contain;"></div>'),r=t("#tmpl-elementor-add-section"),o=r.text();o=o.replace('<div class="elementor-add-section-drag-title',p+'<div class="elementor-add-section-drag-title'),r.text(o),t(i).on("click",".elementor-editor-section-settings .elementor-editor-element-add",function(){var i=t(this).closest(".elementor-top-section").prev(".elementor-add-section"),r=t(this).closest(".elementor-top-section").data("model-cid");0==i.find("#tmpcoder-library-btn").length&&setTimeout(function(){i.find(".elementor-add-new-section").prepend(p)},110),window.elementor.elements.models.length&&t.each(window.elementor.elements.models,function(t,i){r===i.cid&&(e.sectionIndex=t)}),e.contentID++}),i.on("click","#tmpcoder-library-btn",function(){e.renderPopup(i),"wp-post"===window.elementor.config.document.type&&void 0===i.find("#tmpcoder-library-btn").attr("data-filter")?e.renderPopupContent(i,"sections"):void 0!==i.find("#tmpcoder-library-btn").attr("data-filter")?(i.find(".tmpcoder-tplib-header").find("li").removeClass("tmpcoder-tplib-active-tab"),i.find(".tmpcoder-tplib-header").find('li[data-tab="blocks"]').addClass("tmpcoder-tplib-active-tab"),e.renderPopupContent(i,"blocks")):e.renderPopupContent(i,"sections"),t(document).on("tmpcoder-filter-popup-content",function(){var t=i.find("#tmpcoder-library-btn").attr("data-filter");i.find('.tmpcoder-tplib-sidebar ul li[data-filter="'+t+'"]').trigger("click")})})},renderPopup:function(i){if(0==i.find(".tmpcoder-tplib-popup").length){var p="";if(window.elementor.config.document.type,p+='<li data-tab="sections" class="tmpcoder-tplib-active-tab">Sections</li>',p+='<li data-tab="blocks">Blocks</li>',"tmpcoder-popups"===window.elementor.config.document.type)if(void 0===i.find("#tmpcoder-library-btn").attr("data-filter"))p='\t\t\t\t\t\t<li data-tab="sections" class="tmpcoder-tplib-active-tab">Sections</li>\t\t\t\t\t\t<li data-tab="blocks">Blocks</li>';else p='\t\t\t\t\t\t<li data-tab="sections">Sections</li>\t\t\t\t\t\t<li data-tab="blocks" class="tmpcoder-tplib-active-tab">Blocks</li>';i.find("body").append('\t\t\t\t\t<div class="tmpcoder-tplib-popup-overlay">\t\t\t\t\t\t<div class="tmpcoder-tplib-popup">\t\t\t\t\t\t\t<div class="tmpcoder-tplib-header elementor-clearfix">\t\t\t\t\t\t\t\t<div class="tmpcoder-tplib-logo"><span class="tmpcoder-library-icon" style="background:url('+e.logoURL+') no-repeat center center / contain;">RE</span>Library</div>\t\t\t\t\t\t\t\t<div class="tmpcoder-tplib-back" data-tab="">\t\t\t\t\t\t\t\t\t<i class="eicon-chevron-left"></i> <span>Back to Library</span>\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t<ul>'+p+'</ul>\t\t\t\t\t\t\t\t<span class="tmpcoder-tplib-insert-template"><i class="eicon-file-download"></i> <span>Insert</span></span>\t\t\t\t\t\t\t\t<div class="tmpcoder-tplib-close"><i class="eicon-close"></i></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="tmpcoder-tplib-content-wrap elementor-clearfix">\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="tmpcoder-tplib-preview-wrap"></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t')}$e.run("panel/close"),t("#tmpcoder-template-settings-notification").hide(),i.find("html").css("overflow","hidden"),i.find(".tmpcoder-tplib-preview-wrap iframe").remove(),i.find(".tmpcoder-tplib-popup-overlay").show(),i.find(".tmpcoder-tplib-close").on("click",function(){$e.run("panel/open"),t("#tmpcoder-template-settings-notification").show(),i.find("html").css("overflow","auto"),i.find(".tmpcoder-tplib-popup-overlay").fadeOut("fast",function(){i.find(".tmpcoder-tplib-popup-overlay").remove(),i.find("#tmpcoder-library-btn").removeAttr("data-filter")})}),i.find(".tmpcoder-tplib-header").find("li").on("click",function(){i.find(".tmpcoder-tplib-header").find("li").removeClass("tmpcoder-tplib-active-tab"),t(this).addClass("tmpcoder-tplib-active-tab"),i.find(".tmpcoder-tplib-content-wrap").html(""),e.renderPopupContent(i,t(this).data("tab"))}),i.find(".tmpcoder-tplib-back").on("click",function(){t(this).hide(),i.find(".tmpcoder-tplib-close i").css("border-left","0"),i.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").hide(),i.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").removeClass("tmpcoder-tplib-insert-pro").removeClass("tmpcoder-tplib-insert-woo"),i.find(".tmpcoder-tplib-preview-wrap").hide(),i.find(".tmpcoder-tplib-preview-wrap").html(""),i.find(".tmpcoder-tplib-popup").css("overflow","hidden"),i.find(".tmpcoder-tplib-logo").show(),i.find(".tmpcoder-tplib-header ul li").show(),i.find(".tmpcoder-tplib-content-wrap").show()})},renderPopupContent:function(i,p,r=!1){e.renderPopupLoader(i);var o={action:"tmpcoder_render_library_templates_"+p};t.post(ajaxurl,o,function(t){i.find(".tmpcoder-tplib-content-wrap").html(""),i.find(".tmpcoder-tplib-content-wrap").html(t),setTimeout(function(){e.lazyloder(i)},2e3)}).always(function(){e.templateGridPreview(i),i.find(".tmpcoder-tplib-filters-list ul li").on("click",function(){var p=t(this).attr("data-filter");"all"===p?i.find(".tmpcoder-tplib-template").parent().show():(i.find(".tmpcoder-tplib-template").parent().hide(),i.find('.tmpcoder-tplib-template[data-filter="'+p+'"]').parent().show()),i.find(".tmpcoder-tplib-filters h3 span").attr("data-filter",p).text(t(this).text()),e.renderPopupGrid(i)}),i.find(".tmpcoder-tplib-sub-filters ul li").on("click",function(){var p=t(this).attr("data-sub-filter"),r=i.find(".tmpcoder-tplib-filters h3 span").attr("data-filter");i.find(".tmpcoder-tplib-sub-filters ul li").removeClass("tmpcoder-tplib-activ-filter"),t(this).addClass("tmpcoder-tplib-activ-filter"),"all"===p?i.find('.tmpcoder-tplib-template[data-filter="'+r+'"]').parent().show():(i.find(".tmpcoder-tplib-template").parent().hide(),i.find('.tmpcoder-tplib-template[data-filter="'+r+'"][data-sub-filter="'+p+'"]').parent().show()),e.renderPopupGrid(i)}),i.find(".tmpcoder-tplib-price-list ul li").on("click",function(){var p=i.find(".tmpcoder-tplib-search input").val(),r=""===p?"":'[data-title*="'+p+'"]';i.find(".tmpcoder-tplib-price").attr("data-filter",t(this).data("filter")),i.find(".tmpcoder-tplib-price").find("h3 span").text(t(this).text()),"free"===t(this).data("filter")?(i.find(".tmpcoder-tplib-template-wrap"+r).show(),i.find(".tmpcoder-tplib-pro-wrap").hide()):"pro"===t(this).data("filter")?(i.find(".tmpcoder-tplib-template-wrap").hide(),i.find(".tmpcoder-tplib-pro-wrap"+r).show()):i.find(".tmpcoder-tplib-template-wrap"+r).show(),e.renderPopupGrid(i)});var r=null;function o(t){i.find(".tmpcoder-tplib-"+t).on("click",function(){"0"==i.find(".tmpcoder-tplib-"+t+"-list").css("opacity")?i.find(".tmpcoder-tplib-"+t+"-list").css({opacity:"1",visibility:"visible"}):i.find(".tmpcoder-tplib-"+t+"-list").css({opacity:"0",visibility:"hidden"})}),i.on("click",function(){"1"==i.find(".tmpcoder-tplib-"+t+"-list").css("opacity")&&i.find(".tmpcoder-tplib-"+t+"-list").css({opacity:"0",visibility:"hidden"})})}i.find(".tmpcoder-tplib-sidebar input").on("keyup",function(){var o=t(this).val().toLowerCase();null!=r&&clearTimeout(r),r=setTimeout(function(){r=null,"pages"===p?(e.templateGridSearch(i,o),e.renderPopupGrid(i)):"blocks"===p?(""!==o?(i.find(".tmpcoder-tplib-template-wrap").hide(),i.find('.tmpcoder-tplib-template-wrap[data-title*="'+o+'"]').show()):i.find(".tmpcoder-tplib-template-wrap").show(),e.renderPopupGrid(i)):"sections"===p&&(""!==o?(i.find(".tmpcoder-tplib-template-wrap").hide(),i.find('.tmpcoder-tplib-template-wrap[data-title*="'+o+'"]').show()):i.find(".tmpcoder-tplib-template-wrap").show(),e.renderPopupGrid(i))},1e3)}),e.templateGridImport(i),t(document).trigger("tmpcoder-filter-popup-content"),o("filters"),o("price"),e.renderPopupGrid(i)}),setTimeout(function(){e.renderTemplatesGridContent(i,p)},2e3)},renderTemplatesGridContent:function(i,p,r=1){var o={action:"tmpcoder_render_library_templates_pages_grid_items",page:r,nonce:TmpcoderLibFrontJs.nonce};let d=i.find('.tmpcoder-tplib-header ul li[data-tab="pages"]').hasClass("tmpcoder-tplib-active-tab");t.post(ajaxurl,o,function(t){if(d)if(i.find(".tmpcoder-tplib-template-gird-inner").append(t),""!==t){var o=i.find(".tmpcoder-tplib-sidebar input").val().toLowerCase();e.templateGridSearch(i,o),e.renderPopupGrid(i),e.templateGridPreview(i),e.templateGridImport(i),setTimeout(function(){e.renderTemplatesGridContent(i,p,r+1)},1e3)}else i.find(".tmpcoder-tplib-template-gird-loading").fadeOut()})},templateGridSearch:function(t,e){var i=t.find(".tmpcoder-tplib-price").attr("data-filter"),p="mixed"===i?"":'[data-price*="'+i+'"]';""!==e||""===e&&""!=p?(t.find(".tmpcoder-tplib-template-wrap").hide(),t.find('.tmpcoder-tplib-template-wrap[data-title*="'+e+'"]'+p).show()):t.find(".tmpcoder-tplib-template-wrap").show()},templateGridPreview:function(e){e.find(".tmpcoder-tplib-template-media").on("click",function(){let i=e.find(".tmpcoder-tplib-active-tab").attr("data-tab");var p=t(this).parent().data("filter"),r=t(this).parent().data("slug"),o=t(this).parent().data("kit"),d="sections"!==i?TmpcoderLibFrontJs.demos_url+t(this).parent().data("preview-url"):t(this).parent().find("img").attr("src"),n=t(this).parent().data("preview-type"),a="";t(this).closest(".tmpcoder-tplib-pro-wrap").length&&(a="-pro",e.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").addClass("tmpcoder-tplib-insert-pro")),t(this).closest(".tmpcoder-tplib-woo-wrap").length&&(a="-pro",e.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").addClass("tmpcoder-tplib-insert-woo")),e.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").attr("data-filter",p).attr("data-slug",r).attr("data-kit",o),e.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").html(t(this).parent().find(".tmpcoder-tplib-insert-template").html()),e.find(".tmpcoder-tplib-close i").css("border-left","1px solid #e8e8e8"),e.find(".tmpcoder-tplib-logo").hide(),e.find(".tmpcoder-tplib-header ul li").hide(),e.find(".tmpcoder-tplib-back").show(),e.find(".tmpcoder-tplib-header").find(".tmpcoder-tplib-insert-template").show(),e.find(".tmpcoder-tplib-content-wrap").hide(),e.find(".tmpcoder-tplib-preview-wrap").show(),"iframe"==n?(e.find(".tmpcoder-tplib-preview-wrap").html('<div class="tmpcoder-tplib-iframe"><iframe src="'+d+"?ref=rea-plugin-library-preview"+a+'"></iframe></div>'),e.find(".tmpcoder-tplib-popup").css("overflow","hidden")):(e.find(".tmpcoder-tplib-preview-wrap").html('<div class="tmpcoder-tplib-image"><img src="'+d+'"></div>'),e.find(".tmpcoder-tplib-popup").css("overflow","scroll"))})},templateGridImport:function(i){i.find(".tmpcoder-tplib-insert-template").off("click"),i.find(".tmpcoder-tplib-insert-template").on("click",function(){var p=t(this).parent().hasClass("tmpcoder-tplib-header")?t(this).attr("data-filter"):t(this).closest(".tmpcoder-tplib-template").attr("data-filter"),r=t(this).parent().hasClass("tmpcoder-tplib-header")?t(this).attr("data-slug"):t(this).closest(".tmpcoder-tplib-template").attr("data-slug"),o=t(this).parent().hasClass("tmpcoder-tplib-header")?t(this).attr("data-kit"):t(this).closest(".tmpcoder-tplib-template").attr("data-kit"),d=t(this).parent().hasClass("tmpcoder-tplib-header")?t(this).attr("data-filter"):t(this).closest(".tmpcoder-tplib-template").attr("data-filter"),n=i.find(".tmpcoder-tplib-active-tab").attr("data-tab");if(t(this).closest(".tmpcoder-tplib-template-wrap").hasClass("tmpcoder-tplib-woo-wrap")||t(this).hasClass("tmpcoder-tplib-insert-woo"))alert("In order to import this Template, Please activate WooCommerce plugin.");else{if("tmpcoder-popups"===window.elementor.config.document.type&&"popups"===n&&(p="popups/"+p),t(this).hasClass("tmpcoder-tplib-insert-pro")){var a=window.location.href,l=(a.substring(0,a.indexOf("/wp-admin")+9),"https://sastraessentialaddons.com/?ref=rea-plugin-library-"+p+"-upgrade-pro#purchasepro");return l=TmpcodersanitizeURL(l),void window.open(l,"_blank")}i.find(".tmpcoder-tplib-content-wrap").show(),i.find(".tmpcoder-tplib-preview-wrap").hide(),e.renderPopupLoader(i),r=r.includes("-zzz")?r.replace("-zzz",""):r,r="pages"===n?r:p+"/"+r,d="sections"===n?d:"";var c={action:"tmpcoder_import_library_template",nonce:TmpcoderLibFrontJs.nonce,slug:r,kit:o,section:d};t.post(ajaxurl,c,function(p){if(0!=p){var r=p.substring(0,p.length-1);r=JSON.parse(r);if(console.log(r),r.content[0].id+=e.contentID,window.elementor.getPreviewView().addChildModel(r.content,{at:e.sectionIndex}),void 0!==r.page_settings&&void 0!==o&&elementor.settings.page.model.set(r.page_settings),"tmpcoder-popups"===window.elementor.config.document.type&&"popups"===n){elementor.settings.page.model.set({popup_trigger:"load",popup_show_again_delay:"0",popup_load_delay:"1",popup_display_as:"modal",popup_width:{unit:"px",size:"650"},popup_height:"auto",popup_align_hr:"center",popup_align_vr:"center",popup_content_align:"flex-start",popup_animation:"fadeIn",popup_animation_duration:"1",popup_overlay_display:"yes",popup_close_button_display:"yes",popup_container_bg_background:"classic",popup_container_bg_position:"center center",popup_container_bg_repeat:"no-repeat",popup_container_bg_size:"cover",popup_overlay_bg_background:"classic",popup_container_padding:{isLinked:!0,unit:"px",top:20,right:20,bottom:20,left:20},popup_container_radius:{isLinked:!0,unit:"px",top:0,right:0,bottom:0,left:0}}),elementor.settings.page.model.set(r.page_settings)}window.elementor.panel.$el.find("#elementor-panel-footer-saver-publish button").removeClass("elementor-disabled"),window.elementor.panel.$el.find("#elementor-panel-footer-saver-options button").removeClass("elementor-disabled"),e.sectionIndex=null,$e.run("panel/open"),t("#tmpcoder-template-settings-notification").show(),i.find("html").css("overflow","auto"),i.find(".tmpcoder-tplib-popup-overlay").fadeOut("fast",function(){i.find(".tmpcoder-tplib-popup-overlay").remove(),i.find("#tmpcoder-library-btn").removeAttr("data-filter")})}else location.reload()}).success(function(){let t="blocks"===n?r:"",e="sections"===n?r:"";console.log(e),elementorCommon.ajax.addRequest("tmpcoder_library_template_import_finished",{data:{template:r,kit:o,block:t,section:e},success:function(){}})})}})},renderPopupLoader:function(t){t.find(".tmpcoder-tplib-content-wrap").prepend('<div class="tmpcoder-tplib-loader"><div class="elementor-loader-wrapper"><div class="elementor-loader"><div class="elementor-loader-boxes"><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div><div class="elementor-loader-box"></div></div></div><div class="elementor-loading-title">Loading</div></div></div>')},renderPopupGrid:function(t){let e="sections"===t.find(".tmpcoder-tplib-active-tab").attr("data-tab")?4:5;var i=Macy({container:t.find(".tmpcoder-tplib-template-gird-inner")[0],waitForImages:!0,margin:30,columns:e,breakAt:{1450:4,940:3,520:2,400:1}});setTimeout(function(){i.recalculate(!0)},300),setTimeout(function(){i.recalculate(!0)},600)}};t(window).on("elementor:init",e.init)}(jQuery);